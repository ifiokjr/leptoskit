# leptoskit_routes

> Add file routing to `leptoskit`.

## Usage

Add this to your `Cargo.toml`:

```toml
[dependencies]
leptoskit_routes = "0.0"

[build-dependencies]
leptoskit_routes = { version = "0.0", features = ["build"] }
```

The plugin should be added to your `build.rs` file:

```rust
use leptoskit::config::Config;
use leptoskit_routes::plugin::FileRoutesPlugin;

fn main() {
  // Create a new configuration
  let mut config = Config::default();

  let routes_plugin = FileRoutesPlugin::builder()
    // Set the directory to look for routes in (defaults to "routes")
    .directory("routes")
    // Set whether to automatically generate the routes file (defaults to false)
    .autogenerate(false)
    .build();

  // Add the plugins to the configuration
  config.add_plugin(routes_plugin);

  // Save the configuration
  config.save();
}
```

Then create a `routes.rs` file in the `routes` directory if not already being autogenerated.

```rust
leptoskit_routes::generate_routes!();
```

The plugin will walk the `routes` directory and add all routes defined to a generated `routes.rs` via the macro.

`leptoskit` will automatically manage inject the routes into the application.

## Rules

Your routes directory should look like this.
